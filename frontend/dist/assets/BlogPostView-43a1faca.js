import{_ as T,B as L,a1 as z,R,r as g,o as j,a as E,b as r,c as n,w as e,V as I,d as M,i as p,h as l,G as _,q as y,e as o,A as h,y as u,g as i,l as N,v as k,T as w,j as b,k as $,F,m as H,s as q,z as G,p as O,f as x}from"./index-41a66bf6.js";import{m as J,p as K}from"./purify.es-9335d613.js";const Q={class:"text-h3 font-weight-bold mb-4"},U={class:"d-flex align-center justify-center mb-8"},W={class:"text-body-1"},X={class:"d-flex align-center"},Y=["innerHTML"],Z={class:"d-flex justify-space-between align-center"},tt={key:1},et={__name:"BlogPostView",setup(at){const f=L(),v=z(),V=R().isAuthenticated,s=g({title:"",content:"",tags:[],image:"",author:"Rajorshi Tah",createdAt:new Date().toISOString()}),m=g(!0),B=(a,t="short")=>{if(!a)return"";const c=new Date(a);if(t==="long"){const d={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return c.toLocaleDateString(void 0,d)}return c.toLocaleDateString()},C=a=>{if(!a)return"";const t=J.parse(a);return K.sanitize(t)},A=()=>{v.push({name:"blog-edit",params:{id:f.params.id}})},S=async()=>{try{navigator.share?await navigator.share({title:s.value.title,text:s.value.title,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))}catch(a){console.error("Error sharing:",a)}},D=async()=>{try{m.value=!0;const a=await M.get(`/api/blog/${f.params.id}`);s.value=a.data}catch(a){console.error("Error fetching blog post:",a),v.push({name:"blog"})}finally{m.value=!1}};return j(()=>{D()}),(a,t)=>{const c=E("v-skeleton-loader");return r(),n(I,{class:"blog-post-container"},{default:e(()=>[a.$vuetify.display.mobile?_("",!0):(r(),n(p,{key:0,color:"secondary",variant:"text","prepend-icon":"mdi-arrow-left",onClick:t[0]||(t[0]=d=>a.$router.go(-1)),class:"mb-4"},{default:e(()=>[...t[1]||(t[1]=[l(" Back to Blog ",-1)])]),_:1})),m.value?(r(),n(y,{key:2},{default:e(()=>[o(x,{cols:"12"},{default:e(()=>[o(c,{type:"article, actions"})]),_:1})]),_:1})):(r(),n(y,{key:1},{default:e(()=>[o(x,{cols:"12",class:"text-center"},{default:e(()=>[o(h,{color:"primary",variant:"outlined",class:"mb-4"},{default:e(()=>[l(u(B(s.value.createdAt,"long")),1)]),_:1}),i("h1",Q,u(s.value.title),1),i("div",U,[o(N,{size:"40",color:"primary",class:"mr-2"},{default:e(()=>[o(k,null,{default:e(()=>[...t[2]||(t[2]=[l("mdi-account",-1)])]),_:1})]),_:1}),i("span",W,"By "+u(s.value.author||"Admin"),1),o(w,{vertical:"",class:"mx-4"}),i("div",X,[o(k,{size:"small",class:"mr-1"},{default:e(()=>[...t[3]||(t[3]=[l("mdi-tag-outline",-1)])]),_:1}),i("div",null,[(r(!0),b(F,null,$(s.value.tags,(d,P)=>(r(),n(h,{key:P,size:"small",color:"primary",variant:"outlined",class:"mr-1 mb-1"},{default:e(()=>[l(u(d),1)]),_:2},1024))),128))])])]),s.value.image?(r(),n(H,{key:0,src:s.value.image,height:"400",cover:"",class:"rounded-lg mb-8"},null,8,["src"])):_("",!0),o(q,{variant:"text",class:"text-left mb-8"},{default:e(()=>[o(G,null,{default:e(()=>[i("div",{class:"markdown-content",innerHTML:C(s.value.content)},null,8,Y)]),_:1})]),_:1}),o(w,{class:"my-8"}),i("div",Z,[O(V)?(r(),n(p,{key:0,color:"primary",variant:"outlined","prepend-icon":"mdi-pencil",onClick:A},{default:e(()=>[...t[4]||(t[4]=[l(" Edit Post ",-1)])]),_:1})):(r(),b("div",tt)),o(p,{color:"primary",variant:"text","prepend-icon":"mdi-share-variant",onClick:S},{default:e(()=>[...t[5]||(t[5]=[l(" Share ",-1)])]),_:1})])]),_:1})]),_:1}))]),_:1})}}},nt=T(et,[["__scopeId","data-v-8aa251f1"]]);export{nt as default};
