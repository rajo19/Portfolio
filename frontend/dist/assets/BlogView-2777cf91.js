import{_ as D,a1 as E,R as P,r as b,o as R,a as z,b as o,c as n,w as t,V as I,d as L,e as a,f as c,g as d,q as m,p as j,i as V,h as r,G as h,j as _,k as x,F as y,v as p,s as F,m as M,x as $,y as u,N as q,z as G,A as J,L as O,J as H}from"./index-41a66bf6.js";const K={class:"d-flex flex-wrap gap-1 mb-3"},Q={class:"text-body-2 mb-4"},U={__name:"BlogView",setup(W){const w=E(),k=P().isAuthenticated,f=b([]),g=b(!0),C=s=>{if(!s)return"";const e={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString(void 0,e)},B=(s,e=150)=>{if(!s)return"";const i=s.replace(/[#*_`\[\]()]/g,"").replace(/<[^>]*>/g,"").replace(/\s+/g," ").trim();return i.length>e?i.substring(0,e)+"...":i},N=(s=null)=>{console.log("Open editor for post:",s)},A=s=>{w.push({name:"blog-post",params:{id:s}})},S=async()=>{try{g.value=!0;const s=await L.get("/api/blog");f.value=s.data}catch(s){console.error("Error fetching blog posts:",s)}finally{g.value=!1}};return R(()=>{S()}),(s,e)=>{const i=z("v-skeleton-loader");return o(),n(I,{class:"blog-container"},{default:t(()=>[a(m,null,{default:t(()=>[a(c,{cols:"12",class:"text-center"},{default:t(()=>[...e[1]||(e[1]=[d("h1",{class:"text-h3 font-weight-bold mb-2"},"Blog",-1),d("p",{class:"text-body-1 text-medium-emphasis mb-8"}," Thoughts, tutorials, and updates on my latest projects ",-1)])]),_:1})]),_:1}),j(k)?(o(),n(m,{key:0,class:"mb-6"},{default:t(()=>[a(c,{cols:"12",class:"text-end"},{default:t(()=>[a(V,{color:"primary","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=l=>N())},{default:t(()=>[...e[2]||(e[2]=[r(" New Post ",-1)])]),_:1})]),_:1})]),_:1})):h("",!0),g.value?(o(),n(m,{key:2},{default:t(()=>[(o(),_(y,null,x(6,l=>a(c,{key:l,cols:"12",md:"6",lg:"4"},{default:t(()=>[a(i,{type:"image, article, actions"})]),_:1})),64))]),_:1})):(o(),n(m,{key:1},{default:t(()=>[(o(!0),_(y,null,x(f.value,l=>(o(),n(c,{key:l._id,cols:"12",md:"6",lg:"4"},{default:t(()=>[a(F,{class:"h-100 d-flex flex-column",hover:""},{default:t(()=>[a(M,{src:l.image||"https://via.placeholder.com/600x400?text=Blog+Post",height:"200",cover:"",class:"align-end",gradient:"to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.7)"},{default:t(()=>[a($,{class:"text-white"},{default:t(()=>[r(u(l.title),1)]),_:2},1024),a(q,{class:"text-white d-flex align-center"},{default:t(()=>[a(p,{small:"",color:"white",class:"mr-1"},{default:t(()=>[...e[3]||(e[3]=[r("mdi-account",-1)])]),_:1}),r(" "+u(l.author)+" ",1),a(p,{small:"",color:"white",class:"mx-2"},{default:t(()=>[...e[4]||(e[4]=[r("mdi-circle-small",-1)])]),_:1}),a(p,{small:"",color:"white",class:"mr-1"},{default:t(()=>[...e[5]||(e[5]=[r("mdi-calendar",-1)])]),_:1}),r(" "+u(C(l.createdAt)),1)]),_:2},1024)]),_:2},1032,["src"]),a(G,{class:"flex-grow-1"},{default:t(()=>[d("div",K,[(o(!0),_(y,null,x(l.tags.slice(0,3),(v,T)=>(o(),n(J,{key:T,size:"small",color:"primary",variant:"outlined",class:"text-caption"},{default:t(()=>[r(u(v),1)]),_:2},1024))),128))]),d("p",Q,u(B(l.content)),1)]),_:2},1024),a(O,{class:"px-4 pb-4"},{default:t(()=>[a(H),a(V,{color:"primary",variant:"text",onClick:v=>A(l._id)},{default:t(()=>[...e[6]||(e[6]=[r(" Read More ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),f.value.length===0?(o(),n(c,{key:0,cols:"12",class:"text-center py-12"},{default:t(()=>[a(p,{size:"64",class:"mb-4"},{default:t(()=>[...e[7]||(e[7]=[r("mdi-post-outline",-1)])]),_:1}),e[8]||(e[8]=d("h3",{class:"text-h6"},"No blog posts yet",-1))]),_:1})):h("",!0)]),_:1}))]),_:1})}}},Z=D(U,[["__scopeId","data-v-ec132ace"]]);export{Z as default};
