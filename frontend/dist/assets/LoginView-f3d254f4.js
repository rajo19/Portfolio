import{_ as U,u as R,R as q,a1 as B,B as F,r as m,b as v,c as b,w as s,V as M,e as l,f as P,s as I,g as n,v as f,h as d,Y as L,O as z,D as g,a6 as D,i as p,G as N,y as V,S as T,q as j,a5 as A}from"./index-41a66bf6.js";const W={class:"text-center mb-8"},$={class:"d-flex justify-space-between align-center mb-6"},G={class:"text-center"},O={__name:"LoginView",setup(Y){R();const w=q(),y=B(),x=F(),t=m({username:"",password:"",rememberMe:!1}),i=m(!1),r=m(!1),c=m(!1),u=m({show:!1,message:"",color:"error"}),k=[o=>!!o||"Username is required",o=>o&&o.length>=3||"Username must be at least 3 characters"],C=[o=>!!o||"Password is required",o=>o&&o.length>=6||"Password must be at least 6 characters"],_=async()=>{var o,e;if(i.value){r.value=!0;try{await w.login({username:t.value.username,password:t.value.password,remember:t.value.rememberMe});const a=x.query.redirect||"/";await y.push(a),u.value={show:!0,message:"Login successful! Welcome back.",color:"success"}}catch(a){console.error("Login error:",a),u.value={show:!0,message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.message)||"Invalid credentials. Please try again.",color:"error"}}finally{r.value=!1}}},S=()=>{t.value={username:"",password:"",rememberMe:!1},i.value=!1};return(o,e)=>(v(),b(M,{class:"login-container py-8"},{default:s(()=>[l(j,{justify:"center",align:"center",class:"min-h-screen"},{default:s(()=>[l(P,{cols:"12",sm:"8",md:"6",lg:"4",xl:"3"},{default:s(()=>[l(I,{class:"pa-8 elevation-8",rounded:"lg"},{default:s(()=>[n("div",W,[l(f,{size:"64",color:"primary",class:"mb-4"},{default:s(()=>[...e[7]||(e[7]=[d("mdi-account-circle",-1)])]),_:1}),e[8]||(e[8]=n("h1",{class:"text-h4 font-weight-bold mb-2"},"Welcome Back",-1)),e[9]||(e[9]=n("p",{class:"text-body-2 text-medium-emphasis"}," Sign in to access your admin dashboard ",-1))]),l(L,{onSubmit:z(_,["prevent"]),modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=a=>i.value=a)},{default:s(()=>[l(g,{modelValue:t.value.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.username=a),label:"Username",rules:k,required:"",variant:"outlined",class:"mb-4","prepend-inner-icon":"mdi-account",disabled:r.value,autocomplete:"username"},null,8,["modelValue","disabled"]),l(g,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.password=a),label:"Password",rules:C,required:"",variant:"outlined",type:c.value?"text":"password",class:"mb-4","prepend-inner-icon":"mdi-lock","append-inner-icon":c.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[2]||(e[2]=a=>c.value=!c.value),disabled:r.value,autocomplete:"current-password"},null,8,["modelValue","type","append-inner-icon","disabled"]),n("div",$,[l(D,{modelValue:t.value.rememberMe,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.rememberMe=a),label:"Remember me","hide-details":"",density:"comfortable",disabled:r.value},null,8,["modelValue","disabled"]),l(p,{variant:"text",size:"small",color:"primary",class:"text-caption",onClick:()=>{}},{default:s(()=>[...e[10]||(e[10]=[d(" Forgot password? ",-1)])]),_:1})]),l(p,{type:"submit",color:"primary",size:"large",block:"",loading:r.value,disabled:!i.value||r.value,class:"mb-6",rounded:""},{default:s(()=>[r.value?N("",!0):(v(),b(f,{key:0,start:""},{default:s(()=>[...e[11]||(e[11]=[d("mdi-login",-1)])]),_:1})),d(" "+V(r.value?"Signing in...":"Sign In"),1)]),_:1},8,["loading","disabled"]),l(T,{type:"info",variant:"tonal",class:"mb-4",density:"compact"},{default:s(()=>[...e[12]||(e[12]=[n("div",{class:"text-caption"},[n("strong",null,"Demo Credentials:"),n("br"),d(" Username: admin"),n("br"),d(" Password: password123 ")],-1)])]),_:1}),n("div",G,[l(p,{variant:"text",size:"small",onClick:S,disabled:r.value},{default:s(()=>[...e[13]||(e[13]=[d(" Clear Form ",-1)])]),_:1},8,["disabled"])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(A,{modelValue:u.value.show,"onUpdate:modelValue":e[6]||(e[6]=a=>u.value.show=a),color:u.value.color,timeout:"4000",location:"top"},{actions:s(()=>[l(p,{variant:"text",onClick:e[5]||(e[5]=a=>u.value.show=!1)},{default:s(()=>[...e[14]||(e[14]=[d(" Close ",-1)])]),_:1})]),default:s(()=>[d(V(u.value.message)+" ",1)]),_:1},8,["modelValue","color"])]),_:1}))}},E=U(O,[["__scopeId","data-v-65d3a73c"]]);export{E as default};
