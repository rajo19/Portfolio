import{_ as q,u as H,r as y,o as L,W as R,b as r,c as p,w as s,V as N,X as E,e as t,f as w,v as d,h as i,g as o,q as _,s as V,x as F,j as h,k as C,F as T,G as x,H as K,I as Q,J as A,i as I,z as P,l as M,L as Y,Y as $,O as j,Z as G,$ as J,a0 as O,d as U,A as X,y as k,n as Z}from"./index-41a66bf6.js";import{m as ee,p as se}from"./purify.es-9335d613.js";const te={class:"d-flex flex-wrap gap-2"},ae={class:"message-content"},oe={class:"d-flex align-center mb-2"},ne={class:"text-caption font-weight-medium"},re={class:"text-caption text-medium-emphasis"},le=["innerHTML"],ie={key:0,class:"typing-indicator mb-4"},ue={class:"d-flex align-center"},de={__name:"AIView",setup(ce){H();const l=y([]),m=y(""),u=y(!1),g=y(null),b={role:"assistant",content:"Hello! I'm an AI assistant here to answer your questions about Rajorshi Tah's professional background, skills, and experience. What would you like to know?",timestamp:new Date},z=["What is Rajorshi's professional background?","What programming languages does he know?","Tell me about his work experience","What are his key skills?","What projects has he worked on?"],D=n=>{if(!n)return"";const e=ee.parse(n);return se.sanitize(e)},S=n=>new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),f=()=>{E(()=>{g.value&&(g.value.scrollTop=g.value.scrollHeight)})},B=n=>{m.value=n,v()},v=async()=>{const n=m.value.trim();if(!n||u.value)return;const e={role:"user",content:n,timestamp:new Date};l.value.push(e),m.value="",f(),u.value=!0;try{const c={role:"assistant",content:(await U.post("/api/ai/ask",{question:n})).data.answer,timestamp:new Date};l.value.push(c)}catch(a){console.error("Error getting AI response:",a);const c={role:"assistant",content:"Sorry, I encountered an error while processing your request. Please try again later.",timestamp:new Date,isError:!0};l.value.push(c)}finally{u.value=!1,f()}},W=()=>{l.value=[b],f()};return L(()=>{l.value.length===0&&l.value.push(b),f()}),R(l,()=>{f()},{deep:!0}),(n,e)=>(r(),p(N,{class:"ai-container py-8"},{default:s(()=>[t(_,null,{default:s(()=>[t(w,{cols:"12",class:"text-center"},{default:s(()=>[t(d,{size:"64",color:"primary",class:"mb-4"},{default:s(()=>[...e[1]||(e[1]=[i("mdi-robot",-1)])]),_:1}),e[2]||(e[2]=o("h1",{class:"text-h3 font-weight-bold mb-2"},"AI Assistant",-1)),e[3]||(e[3]=o("p",{class:"text-body-1 text-medium-emphasis mb-6"}," Ask me anything about Rajorshi's experience, skills, or background ",-1))]),_:1})]),_:1}),l.value.length<=1?(r(),p(_,{key:0,justify:"center",class:"mb-6"},{default:s(()=>[t(w,{cols:"12",md:"8",lg:"6"},{default:s(()=>[t(V,{class:"pa-4",elevation:"1"},{default:s(()=>[t(F,{class:"text-h6 mb-3"},{default:s(()=>[t(d,{icon:"mdi-lightbulb-outline",class:"mr-2"}),e[4]||(e[4]=i(" Suggested Questions ",-1))]),_:1}),o("div",te,[(r(),h(T,null,C(z,(a,c)=>t(X,{key:c,color:"primary",variant:"outlined",size:"small",onClick:me=>B(a),class:"text-caption"},{default:s(()=>[i(k(a),1)]),_:2},1032,["onClick"])),64))])]),_:1})]),_:1})]),_:1})):x("",!0),t(_,{justify:"center"},{default:s(()=>[t(w,{cols:"12",md:"8",lg:"6"},{default:s(()=>[t(V,{class:"chat-container",elevation:"4"},{default:s(()=>[t(K,{color:"primary",density:"compact"},{default:s(()=>[t(Q,{class:"text-white"},{default:s(()=>[t(d,{icon:"mdi-chat",class:"mr-2"}),e[5]||(e[5]=i(" Chat with AI ",-1))]),_:1}),t(A),t(I,{icon:"",variant:"text",onClick:W,disabled:u.value},{default:s(()=>[t(d,{color:"white"},{default:s(()=>[...e[6]||(e[6]=[i("mdi-refresh",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1}),t(P,{class:"messages pa-4",ref_key:"messagesContainer",ref:g},{default:s(()=>[(r(!0),h(T,null,C(l.value,(a,c)=>(r(),h("div",{key:c,class:Z(["message",a.role==="user"?"user-message":"ai-message","mb-4","fade-in"])},[o("div",ae,[o("div",oe,[t(M,{size:"32",color:a.role==="user"?"primary":"secondary",class:"mr-2"},{default:s(()=>[a.role==="user"?(r(),p(d,{key:0,color:"white"},{default:s(()=>[...e[7]||(e[7]=[i("mdi-account",-1)])]),_:1})):(r(),p(d,{key:1,color:"white"},{default:s(()=>[...e[8]||(e[8]=[i("mdi-robot",-1)])]),_:1}))]),_:2},1032,["color"]),o("span",ne,k(a.role==="user"?"You":"AI Assistant"),1),t(A),o("span",re,k(S(a.timestamp)),1)]),o("div",{class:"message-text",innerHTML:D(a.content)},null,8,le)])],2))),128)),u.value?(r(),h("div",ie,[o("div",ue,[t(M,{size:"32",color:"secondary",class:"mr-2"},{default:s(()=>[t(d,{color:"white"},{default:s(()=>[...e[9]||(e[9]=[i("mdi-robot",-1)])]),_:1})]),_:1}),e[10]||(e[10]=o("div",{class:"typing-dots"},[o("span"),o("span"),o("span")],-1))])])):x("",!0)]),_:1},512),t(Y,{class:"pa-4 pt-0"},{default:s(()=>[t($,{onSubmit:j(v,["prevent"]),class:"w-100"},{default:s(()=>[t(G,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a),label:"Type your question...",variant:"outlined",rows:"2","auto-grow":"","hide-details":"",disabled:u.value,loading:u.value,onKeydown:J(j(v,["exact","prevent"]),["enter"]),class:"message-input"},{"append-inner":s(()=>[u.value?(r(),p(O,{key:0,indeterminate:"",size:"24",color:"primary",class:"mr-2"})):m.value.trim()?(r(),p(I,{key:1,icon:"",color:"primary",variant:"text",onClick:v,class:"send-btn"},{default:s(()=>[t(d,null,{default:s(()=>[...e[11]||(e[11]=[i("mdi-send",-1)])]),_:1})]),_:1})):x("",!0)]),_:1},8,["modelValue","disabled","loading","onKeydown"]),e[12]||(e[12]=o("div",{class:"text-caption text-medium-emphasis mt-2 text-center"}," The AI has been trained on Rajorshi's resume and can answer questions about his experience and background. ",-1))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ge=q(de,[["__scopeId","data-v-069f5ac4"]]);export{ge as default};
